{
    "Order": {
        "getById": "SELECT *, `productCategory`.name as 'categoryName' FROM `order` LEFT JOIN `orderItem` ON `orderItem`.`orderId`=`order`.`orderId` LEFT JOIN `product` ON `orderItem`.`productId` = `product`.`productId` LEFT JOIN `productCategory` ON `product`.`categoryId` = `productCategory`.`categoryId`  WHERE `order`.`orderId` = ?",
        "getAll": "SELECT `order`.*, json_arrayagg( IF(product.productId IS NULL, NULL, json_object( 'name', product.name, 'description', product.description, 'unitPrice', product.unitPrice, 'category', IF(productCategory.categoryId IS NULL, NULL,json_object( 'categoryId', productCategory.categoryId, 'name', productCategory.name )), 'discount', IF(discount.discountId IS NULL, NULL, json_object( 'discountId', discount.discountId, 'rebaja', discount.rebaja )) ) ) ) AS items FROM `order` LEFT JOIN orderItem ON orderItem.orderId = `order`.orderId LEFT JOIN product ON product.productId = orderItem.productId LEFT JOIN productCategory ON productCategory.categoryId = product.categoryId LEFT JOIN discount ON discount.discountId = product.discountId GROUP BY `order`.orderId",
        "getAll4": "SELECT `order`.*, json_arrayagg( json_object( 'id', product.productId, 'name', product.name, 'description', product.description, 'unitPrice', product.unitPrice, 'images', product.images, 'category', json_object( 'id',productCategory.categoryId, 'name', productCategory.name ), 'discount', json_object( 'id', discount.discountId, 'rebaja', discount.rebaja ) ) ) AS items FROM `order` LEFT JOIN `orderItem` ON `order`.orderId = `orderItem`.`orderId` LEFT JOIN product ON orderItem.productId = product.productId LEFT JOIN productCategory ON product.categoryId = productCategory.categoryId LEFT JOIN discount ON product.discountId = discount.discountId GROUP BY `order`.`orderId`, `product`.`productId`",
        "getAll3": "SELECT  `order`.*, IF(product.productId IS NULL, NULL,json_arrayagg(json_object( 'id', product.productId, 'name', product.name,  'description', description,  'unitPrice', product.unitPrice,  'images', product.images,  'category',  json_object( 'id',productCategory.categoryId,  'name', productCategory.name ),  'discount',  json_object( 'id', discount.discountId,  'rebaja', discount.rebaja ) ) )  ) as items  FROM `order` LEFT JOIN `orderItem` ON `order`.`orderId` = orderItem.orderId LEFT JOIN `product` ON orderItem.productId = product.productId LEFT JOIN productCategory  ON product.categoryId = productCategory.categoryId  LEFT JOIN discount  ON discount.discountId = product.discountId GROUP BY `product`.`productId`, `order`.`orderId` ORDER BY orderId",
        "getAll2": "SELECT  `order`.*, IF(product.productId IS NULL, NULL, json_object( 'id', product.productId, 'name', product.name, 'description', description, 'unitPrice', product.unitPrice, 'images', product.images, 'category', json_object('id',productCategory.categoryId, 'name', productCategory.name), 'discount', json_object('id', discount.discountId, 'rebaja', discount.rebaja)) ) as items  FROM `order` LEFT JOIN `orderItem` ON `order`.`orderId` = orderItem.orderId LEFT JOIN `product` ON orderItem.productId = product.productId LEFT JOIN productCategory  ON product.categoryId = productCategory.categoryId  LEFT JOIN discount  ON discount.discountId = product.discountId",
        "create": "INSERT INTO `order`(`total`, `customerId`) VALUES (?, ?)",
        "update": "UPDATE `order` SET `total`= ?,`customerId`= ? WHERE `orderId` = ?",
        "delete": "DELETE FROM `order` WHERE `orderId` = ?",
        "products en json": "SELECT json_object('id', product.productId, 'name', product.name, 'description', description, 'unitPrice', product.unitPrice, 'images', product.images, 'category', json_object('id',productCategory.categoryId, 'name', productCategory.name), 'discount', json_object('id', discount.discountId, 'rebaja', discount.rebaja)) as items FROM product JOIN productCategory ON product.categoryId = productCategory.categoryId LEFT JOIN discount ON discount.discountId = product.discountId"
    },
    "OrderItem": {
        "getById": "SELECT * FROM `orderItem` WHERE `orderId` = ? AND `productId` = ?",
        "getAll": "SELECT * FROM `orderItem` where `orderId`=?`",
        "create": "INSERT INTO `orderItem` (`unitPrice`, `quantity`, `orderId`, `productId`) SELECT `unitPrice`, ?, ? ,? FROM product WHERE productId=? LIMIT 1",
        "update": "UPDATE `orderItem` SET `unitPrice`= ?,`quantity`= ? WHERE `orderId` = ? AND `productId` = ?",
        "delete": "DELETE FROM `orderItem` WHERE `orderId` = ? AND `productId` = ?",
        "deleteAll": "DELETE FROM `orderItem` WHERE `orderId` = ?"
    },

    "Category": {
        "getById": "select * from productCategory where categoryId=?",
        "getAll": "select * from productCategory",
        "create": "insert into productCategory VALUES (NULL, ?)",
        "update": "UPDATE productCategory SET name=? WHERE categoryId=?",
        "delete": "DELETE FROM productCategory where categoryId=?"
    },

    "Discount": {
        "getById": "select * from discount where discountId=?",
        "getAll": "select * from discount",
        "create": "insert into discount VALUES (NULL, ?)",
        "update": "UPDATE discount SET rebaja=? WHERE discountId=?",
        "delete": "DELETE FROM discount where discountId=?"

    },
    "Product": {
        "getById": "select * from product where productId=?",
        "getAll": "select * from product",
        "getByText": "SELECT * , MATCH (name,description) AGAINST (?) AS puntuacion FROM product WHERE MATCH (name, description) AGAINST (?) ORDER BY puntuacion DESC LIMIT 50",
        "create": "insert into product VALUES (NULL, ?, ?, ?, ?, ?, ?)",
        "update": "UPDATE product SET name=?, description=?, categoryId=?, unitPrice=?, images=?, discountId=? WHERE productId=?",
        "delete": "DELETE FROM product where productId=?"
    },

    "User": {
        "getById": "select * from user where customerId=?",
        "getByEmail": "select * from user where email=? limit 1",
        "getAll": "select * from user",
        "create": "INSERT INTO `user` (`name`, `phone`, `email`, `password`) VALUES (?, ?, ?, ?);",
        "update": "UPDATE `user` SET name=?, phone=?, email=?, password=? WHERE customerId=?",
        "delete": "DELETE FROM user where customerId=?",
        "auth": "select * from user where email=? and password=?"
    }
}